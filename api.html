<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>api</title>


<style type="text/css">
body {
  font-family: Helvetica, arial, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  padding-top: 10px;
  padding-bottom: 10px;
  background-color: white;
  padding: 30px; }

body > *:first-child {
  margin-top: 0 !important; }
body > *:last-child {
  margin-bottom: 0 !important; }

a {
  color: #4183C4; }
a.absent {
  color: #cc0000; }
a.anchor {
  display: block;
  padding-left: 30px;
  margin-left: -30px;
  cursor: pointer;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0; }

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
  cursor: text;
  position: relative; }

h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA09pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoMTMuMCAyMDEyMDMwNS5tLjQxNSAyMDEyLzAzLzA1OjIxOjAwOjAwKSAgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUM2NjlDQjI4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUM2NjlDQjM4ODBGMTFFMTg1ODlEODNERDJBRjUwQTQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5QzY2OUNCMDg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5QzY2OUNCMTg4MEYxMUUxODU4OUQ4M0REMkFGNTBBNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsQhXeAAAABfSURBVHjaYvz//z8DJYCRUgMYQAbAMBQIAvEqkBQWXI6sHqwHiwG70TTBxGaiWwjCTGgOUgJiF1J8wMRAIUA34B4Q76HUBelAfJYSA0CuMIEaRP8wGIkGMA54bgQIMACAmkXJi0hKJQAAAABJRU5ErkJggg==) no-repeat 10px center;
  text-decoration: none; }

h1 tt, h1 code {
  font-size: inherit; }

h2 tt, h2 code {
  font-size: inherit; }

h3 tt, h3 code {
  font-size: inherit; }

h4 tt, h4 code {
  font-size: inherit; }

h5 tt, h5 code {
  font-size: inherit; }

h6 tt, h6 code {
  font-size: inherit; }

h1 {
  font-size: 28px;
  color: black; }

h2 {
  font-size: 24px;
  border-bottom: 1px solid #cccccc;
  color: black; }

h3 {
  font-size: 18px; }

h4 {
  font-size: 16px; }

h5 {
  font-size: 14px; }

h6 {
  color: #777777;
  font-size: 14px; }

p, blockquote, ul, ol, dl, li, table, pre {
  margin: 15px 0; }

hr {
  background: transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;
  border: 0 none;
  color: #cccccc;
  height: 4px;
  padding: 0;
}

body > h2:first-child {
  margin-top: 0;
  padding-top: 0; }
body > h1:first-child {
  margin-top: 0;
  padding-top: 0; }
  body > h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0; }
body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {
  margin-top: 0;
  padding-top: 0; }

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0; }

h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {
  margin-top: 0; }

li p.first {
  display: inline-block; }
li {
  margin: 0; }
ul, ol {
  padding-left: 30px; }

ul :first-child, ol :first-child {
  margin-top: 0; }

dl {
  padding: 0; }
  dl dt {
    font-size: 14px;
    font-weight: bold;
    font-style: italic;
    padding: 0;
    margin: 15px 0 5px; }
    dl dt:first-child {
      padding: 0; }
    dl dt > :first-child {
      margin-top: 0; }
    dl dt > :last-child {
      margin-bottom: 0; }
  dl dd {
    margin: 0 0 15px;
    padding: 0 15px; }
    dl dd > :first-child {
      margin-top: 0; }
    dl dd > :last-child {
      margin-bottom: 0; }

blockquote {
  border-left: 4px solid #dddddd;
  padding: 0 15px;
  color: #777777; }
  blockquote > :first-child {
    margin-top: 0; }
  blockquote > :last-child {
    margin-bottom: 0; }

table {
  padding: 0;border-collapse: collapse; }
  table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0; }
    table tr:nth-child(2n) {
      background-color: #f8f8f8; }
    table tr th {
      font-weight: bold;
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr td {
      border: 1px solid #cccccc;
      margin: 0;
      padding: 6px 13px; }
    table tr th :first-child, table tr td :first-child {
      margin-top: 0; }
    table tr th :last-child, table tr td :last-child {
      margin-bottom: 0; }

img {
  max-width: 100%; }

span.frame {
  display: block;
  overflow: hidden; }
  span.frame > span {
    border: 1px solid #dddddd;
    display: block;
    float: left;
    overflow: hidden;
    margin: 13px 0 0;
    padding: 7px;
    width: auto; }
  span.frame span img {
    display: block;
    float: left; }
  span.frame span span {
    clear: both;
    color: #333333;
    display: block;
    padding: 5px 0 0; }
span.align-center {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-center > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: center; }
  span.align-center span img {
    margin: 0 auto;
    text-align: center; }
span.align-right {
  display: block;
  overflow: hidden;
  clear: both; }
  span.align-right > span {
    display: block;
    overflow: hidden;
    margin: 13px 0 0;
    text-align: right; }
  span.align-right span img {
    margin: 0;
    text-align: right; }
span.float-left {
  display: block;
  margin-right: 13px;
  overflow: hidden;
  float: left; }
  span.float-left span {
    margin: 13px 0 0; }
span.float-right {
  display: block;
  margin-left: 13px;
  overflow: hidden;
  float: right; }
  span.float-right > span {
    display: block;
    overflow: hidden;
    margin: 13px auto 0;
    text-align: right; }

code, tt {
  margin: 0 2px;
  padding: 0 5px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px; }

pre code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent; }

.highlight pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }

pre {
  background-color: #f8f8f8;
  border: 1px solid #cccccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px; }
  pre code, pre tt {
    background-color: transparent;
    border: none; }

sup {
    font-size: 0.83em;
    vertical-align: super;
    line-height: 0;
}

kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb
}

* {
	-webkit-print-color-adjust: exact;
}
@media screen and (min-width: 914px) {
    body {
        width: 854px;
        margin:0 auto;
    }
}
@media print {
	table, pre {
		page-break-inside: avoid;
	}
	pre {
		word-wrap: break-word;
	}
}
</style>


</head>

<body>

<h1 id="toc_0">　SytePoker API 說明文件</h1>

<h2 id="toc_1">Change Log</h2>

<ol>
<li>2016-04-13

<ul>
<li>新增API

<ul>
<li><a href="#register">註冊帳號</a></li>
<li><a href="#auth">取得玩家帳密</a></li>
<li><a href="#user">查詢玩家</a></li>
<li><a href="#logs">取得玩家遊戲紀錄</a></li>
<li><a href="#offline_notification">玩家離線通知</a></li>
</ul></li>
</ul></li>
<li>2016-04-14

<ul>
<li>修復BUG

<ul>
<li> 查詢玩家，查無玩家時會發生錯誤。</li>
<li> 測試面板，API使用錯誤的 HTTP method 顯示的訊息讓人誤解。</li>
</ul></li>
</ul></li>
<li>2016-04-15

<ul>
<li>新增API

<ul>
<li><a href="#add_chips">玩家加錢</a></li>
<li><a href="#kick">踢人</a></li>
</ul></li>
<li>修改

<ul>
<li> 修改<a href="#kick">踢人</a>API支援踢多人</li>
</ul></li>
</ul></li>
<li>2016-04-19

<ul>
<li>查詢玩家新增參數<code>status</code></li>
</ul></li>
<li>2016-04-22

<ul>
<li>新增<a href="#lose-limit">限輸</a></li>
<li>新增<a href="#win-limit">限贏</a></li>
<li>新增<a href="#limit-recover">限注回復</a></li>
<li>新增<a href="#ban-mode">玩家封鎖模式</a></li>
<li>新增<a href="#recover-logs">注單回補</a></li>
</ul></li>
<li>2016-04-25

<ul>
<li>新增<a href="#limit-query">限注查詢</a></li>
</ul></li>
<li>2016-04-29

<ul>
<li><a href="#ban-mode">玩家封鎖模式</a> 新增 <code>no_permission</code></li>
</ul></li>
<li>2016-05-09

<ul>
<li>新增<a href="#get-ban-mode">查詢玩家封鎖模式</a></li>
<li>新增<a href="#get-activation">查詢玩家是否啟用遊戲</a></li>
<li>新增<a href="#set-activation">設定玩家是否啟用遊戲</a></li>
<li>新增<code>agent_name</code>到<a href="#register">註冊帳號</a></li>
</ul></li>
<li>2016-05-25

<ul>
<li>新增<a href="#query-logs">log查詢</a></li>
<li>新增<a href="#summary-logs">玩家下注簡報查詢</a></li>
</ul></li>
<li>2016-08-29

<ul>
<li>修改<a href="#login">登入</a> 增加source, redirect_url參數</li>
<li>修改<a href="#offline_notification">玩家離線通知</a>

<ul>
<li>修改參數說明</li>
<li>新增Hash驗證</li>
<li>新增Json回傳格式</li>
</ul></li>
<li>修改<a href="#set-activation">設定玩家是否啟用遊戲</a> Hash組合</li>
</ul></li>
</ol>

<h2 id="toc_2">登入流程</h2>

<ol>
<li>玩家透過平台登入</li>
<li>平台透過<a href="#register">註冊帳號</a>新增帳號</li>
<li>平台透過<a href="#auth">取得玩家帳號密碼</a>取得帳號密碼</li>
<li>透過表單直接將取得的帳號密碼送到<a href="#login">登入</a>驗證</li>
<li>API直接將玩家導向至遊戲網頁</li>
</ol>

<p><a href="https://cacoo.com/diagrams/UQAlsLczvUqmOvl6">流程圖連結</a></p>

<p><img src="https://cacoo.com/diagrams/UQAlsLczvUqmOvl6-28811.png?t=1455870225441" alt="流程圖" title="API 登入 流程圖"></p>

<h2 id="toc_3">錯誤代碼</h2>

<table>
<thead>
<tr>
<th>錯誤代碼</th>
<th>錯誤訊息</th>
<th>錯誤說明</th>
</tr>
</thead>

<tbody>
<tr>
<td>1</td>
<td>{parameter} is required</td>
<td>缺少必填參數</td>
</tr>
<tr>
<td>2</td>
<td>key is invalid</td>
<td>提供的金鑰是不合法的</td>
</tr>
<tr>
<td>3</td>
<td>hash is invalid</td>
<td>驗證碼是錯誤的</td>
</tr>
<tr>
<td>4</td>
<td>user not found</td>
<td>找不到合法的使用者</td>
</tr>
<tr>
<td>5</td>
<td>{method} is not allowed</td>
<td>http method 不允許</td>
</tr>
<tr>
<td>6</td>
<td>query time range out of limit</td>
<td>查詢時間範圍超出限制</td>
</tr>
<tr>
<td>7</td>
<td>internal server error</td>
<td>伺服器內部錯誤</td>
</tr>
<tr>
<td>8</td>
<td>user offline</td>
<td>使用者離線</td>
</tr>
<tr>
<td>9</td>
<td>add chips error</td>
<td>加錢錯誤</td>
</tr>
<tr>
<td>10</td>
<td>service not available</td>
<td>無法使用遊戲服務</td>
</tr>
<tr>
<td>11</td>
<td>user chips not enough</td>
<td>玩家籌碼不足</td>
</tr>
<tr>
<td>12</td>
<td>{parameter} is invalid</td>
<td>參數不合法</td>
</tr>
<tr>
<td>13</td>
<td>log not found</td>
<td>無法查詢到紀錄</td>
</tr>
<tr>
<td>14</td>
<td>nicknames should mapping accounts</td>
<td>參數 nickname 與 accounts 需相對應</td>
</tr>
</tbody>
</table>

<h2 id="toc_4">API</h2>

<ol>
<li><h3 id="toc_5"><span id="register">註冊帳號 </span></h3>

<div><pre><code class="language-none">POST /api/user/register?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    name=&lt;name&gt;&amp;
    agent_name=&lt;agent_name&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_6">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">name</td>
<td style="text-align: center">玩家暱稱</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">agent_name</td>
<td style="text-align: center">代理名稱</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + name + secret)</strong></p>

<h5 id="toc_7">回傳結果</h5>

<p>成功
<code>
{&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;account&quot;:&quot;test&quot;,&quot;name&quot;:&quot;test&quot;,&quot;id&quot;:7}}
</code>
失敗
<code>
{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:1,&quot;message&quot;:&quot;account is required&quot;}}
</code></p></li>
<li><h3 id="toc_8"><span id="auth">取得玩家帳號密碼</span></h3>

<div><pre><code class="language-none">POST /api/poker/user/auth?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_9">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + secret)</strong></p>

<h5 id="toc_10">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none"> {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;id&quot;:7,&quot;account&quot;:&quot;test&quot;,&quot;name&quot;:&quot;test&quot;,&quot;password&quot;:&quot;570de762d3c35&quot;,&quot;loginUrl&quot;:&quot;http://syte.app//api/poker/user/login&quot;}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:1,&quot;message&quot;:&quot;account is required&quot;}}</code></pre></div></li>
<li><h3 id="toc_11"><span id="login">登入</span></h3>

<p>參數請使用經由<a href="#auth">取得玩家帳密</a>取得的加密資料</p>

<div><pre><code class="language-none">GET /api/poker/user/login?
    account=&lt;account&gt;&amp;
    password=&lt;password&gt;＆
    source=&lt;source&gt;</code></pre></div>

<h5 id="toc_12">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">passoword</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">source</td>
<td style="text-align: center">登入識別</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">redirect_url</td>
<td style="text-align: center">登出或斷線重導向</td>
<td style="text-align: center">string</td>
<td style="text-align: center">選填</td>
</tr>
</tbody>
</table>

<h5 id="toc_13">回傳結果</h5>

<p>成功
<code>
直接導向遊戲頁
</code>
失敗
<code>
導向登入失敗頁
</code></p></li>
<li><h3 id="toc_14"><span id="user">查詢玩家</span></h3>

<div><pre><code class="language-none">GET /api/poker/user?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_15">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + secret)</strong></p>

<h5 id="toc_16">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none"> {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;status&quot;:&quot;user_offline&quot;,&quot;id&quot;:3,&quot;account&quot;:&quot;haha0738&quot;,&quot;name&quot;:&quot;\u6e2c\u8a66&quot;,&quot;chips&quot;:5000000}}
 //status 有user_online, user_offline, service_not_available 三種狀態。</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:1,&quot;message&quot;:&quot;account is required&quot;}}</code></pre></div></li>
<li><h3 id="toc_17"><span id="logs">取得玩家遊戲紀錄</span></h3>

<div><pre><code class="language-none">GET /api/poker/user/logs?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    start_at=&lt;start_at&gt;&amp;
    end_at=&lt;end_at&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_18">參數說明</h5>

<table>
<thead>
<tr>
<th>參數名稱</th>
<th>參數說明</th>
<th>參數型態</th>
<th>說明</th>
</tr>
</thead>

<tbody>
<tr>
<td>key</td>
<td>服務金鑰</td>
<td>string</td>
<td>由API端提供</td>
</tr>
<tr>
<td>account</td>
<td>玩家帳號</td>
<td>string</td>
<td>必填</td>
</tr>
<tr>
<td>start_at</td>
<td>開始時間</td>
<td>string</td>
<td>固定格式Y-m-d,Y-m-d H:i:s或者0，0代表不限制，多查詢七天內的資料</td>
</tr>
<tr>
<td>end_at</td>
<td>結束時間</td>
<td>string</td>
<td>固定格式Y-m-d,Y-m-d H:i:s或者0 ，代表不限制，最多查詢七天內的資料</td>
</tr>
<tr>
<td>hash</td>
<td>驗證參數</td>
<td>string</td>
<td>必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + start<em>at + end</em>at + secret)</strong></p>

<h5 id="toc_19">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none"> [{&quot;id&quot;:30,&quot;user_id&quot;:1,&quot;initial_chips&quot;:100720,&quot;sum_of_bet&quot;:0,&quot;sum_of_win_chips&quot;:0,&quot;final_chips&quot;:100720,&quot;ip&quot;:&quot;192.168.10.1&quot;,&quot;login_at&quot;:&quot;2016-04-12 18:29:49&quot;,&quot;logout_at&quot;:&quot;2016-04-12 18:32:23&quot;,&quot;created_at&quot;:&quot;2016-04-12 18:29:49&quot;,&quot;updated_at&quot;:&quot;2016-04-12 18:32:23&quot;}]}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:1,&quot;message&quot;:&quot;end_at is required&quot;}}</code></pre></div></li>
<li><h3 id="toc_20"><spin id="offline_notification">玩家離線通知</spin></h3>

<p>玩家離線通知需要在後台設定callback url，離線通知會透過<code>POST</code>的方式傳送資料，目前會附帶以下資料。</p>

<div><pre><code class="language-none">id=&lt;id&gt;&amp;                            //紀錄id (int)
ip=&lt;ip&gt;&amp;                            //玩家ip (string)
loginAt=&lt;loginAt&gt;&amp;                 //玩家登入時間 (string)
logoutAt=&lt;logoutAt&gt;&amp;               //玩家登出時間 (string)
account=&lt;account&gt;&amp;                   //玩家帳號 (string)
key=&lt;key&gt;&amp;                          //服務金鑰 (string)
account=&lt;account&gt;&amp;                  //玩家帳號(string)
token=&lt;token&gt;&amp;                      //Session Token(string)
paid=&lt;paid&gt;&amp;                        //玩家淨賠(int)
result=&lt;result&gt;&amp;                    //玩家損益(int)
hash=&lt;hash&gt;                         //驗證參數(string)</code></pre></div>

<p>您可以驗證callback參數，獲得更好的安全性。
<strong>hash = md5(account + token + id + paid + result + secret)</strong></p>

<p>另外請您回傳一組 Json，格式如下：
成功</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;success&quot;,&quot;message&quot;:&quot;&lt;自訂訊息&gt;&quot;}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;message&quot;:&quot;&lt;自訂訊息&gt;&quot;}</code></pre></div></li>
<li><h3 id="toc_21"><spin id="add_chips">玩家加錢</spin></h3>

<div><pre><code class="language-none">PUT /api/poker/user/chips/add?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    chips=&lt;chips&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_22">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">chips</td>
<td style="text-align: center">增加的籌碼</td>
<td style="text-align: center">int</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + chips + secret)</strong></p>

<h5 id="toc_23">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">   {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;original_chips&quot;:135475,&quot;added_chips&quot;:&quot;10&quot;,&quot;final_chips&quot;:135485,&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_24"><spin id="kick">踢玩家</spin></h3>

<p>呼叫之後會在10秒之後將在線的玩家踢出遊戲
<code>
DELETE /api/poker/user/kick?
    key=&lt;key&gt;&amp;
    accounts=&lt;accounts&gt;&amp;
    reason=&lt;reason&gt;&amp;
    hash=&lt;hash&gt;
</code></p>

<h5 id="toc_25">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">accounts</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填，可填多組用<code>,</code> 分割</td>
</tr>
<tr>
<td style="text-align: center">reason</td>
<td style="text-align: center">剔除原因</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + reason + secret)</strong></p>

<h5 id="toc_26">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">    {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;account&quot;:&quot;kk&quot;,&quot;status&quot;:&quot;user_not_found&quot;},{&quot;account&quot;:&quot;aa&quot;,&quot;status&quot;:&quot;user_not_found&quot;},{&quot;status&quot;:&quot;user_offline&quot;,&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;}]}
    // user 的 status 有 user_offline, kicked, user_not_found三種</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_27"><span id="lose-limit">限輸</span></h3>

<p>設定玩家限輸</p>

<div><pre><code class="language-none">PUT /api/poker/user/limit/lose?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    limit=&lt;limit&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_28">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">限制金額</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account+limit+secret)</strong></p>

<h5 id="toc_29">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">   {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;,&quot;win_limit&quot;:500,&quot;lose_limit&quot;:&quot;5000&quot;}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_30"><span id="win-limit">限贏</span></h3>

<p>設定玩家限贏</p>

<div><pre><code class="language-none">PUT /api/poker/user/limit/win?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    limit=&lt;limit&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_31">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">limit</td>
<td style="text-align: center">限制金額</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account+limit+secret)</strong></p>

<h5 id="toc_32">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">   {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;,&quot;win_limit&quot;:500,&quot;lose_limit&quot;:&quot;5000&quot;}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_33"><span id="limit-recover">限注回復</span></h3>

<p>限注回復</p>

<div><pre><code class="language-none">PUT /api/poker/user/limit/recover?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_34">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account+secret)</strong></p>

<h5 id="toc_35">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">   {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;,&quot;win_chips&quot;:0}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_36"><span id="ban-mode">玩家封鎖模式</span></h3>

<p>玩家封鎖模式</p>

<div><pre><code class="language-none">PUT /api/poker/user/mode?
    key=&lt;key&gt;&amp;
    accounts=&lt;accounts&gt;&amp;
    status=&lt;status&gt;&amp;        
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_37">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">accounts</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填，支援多組帳號可用<code>,</code>分割</td>
</tr>
<tr>
<td style="text-align: center">status</td>
<td style="text-align: center">封鎖模式</td>
<td style="text-align: center">enum</td>
<td style="text-align: center">必填(normal,banned,locked, no_permission) <ul><li><code>normal</code> 是無封鎖</li><li><code>banned</code> 是停用</li><li><code>locked</code>是鎖單</li><li><code>no_permission</code>是無權限</li></ul></td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(accounts+status+secret)</strong></p>

<h5 id="toc_38">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;account&quot;:&quot;aa&quot;,&quot;mode&quot;:&quot;user_not_found&quot;},{&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;,&quot;mode&quot;:&quot;banned&quot;}]}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_39"><span id="recover-logs">注單回補</span></h3>

<p>注單回補，注單有可能太多，造成執行過久，所以是利用queue的方式，因此response之後注單不會立刻回補。</p>

<div><pre><code class="language-none">GET /api/poker/user/logs/recover?
    key=&lt;key&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_40">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(secret)</strong></p>

<h5 id="toc_41">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;success&quot;:true}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_42"><span id="limit-query">限注查詢</span></h3>

<p>查詢玩家限注狀態</p>

<div><pre><code class="language-none">GET /api/poker/user/limit?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_43">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + secret)</strong></p>

<h5 id="toc_44">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;account&quot;:&quot;haha0738@ifalo.com.tw&quot;,&quot;win_chips&quot;:-30,&quot;win_limit&quot;:500,&quot;lose_limit&quot;:5000,&quot;updated_at&quot;:&quot;2016-04-22 14:14:08&quot;}}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_45"><span id="get-ban-mode">查詢玩家封鎖模式</span></h3>

<p>查詢玩家鎖單/停用狀態</p>

<div><pre><code class="language-none">GET /api/poker/user/mode?
    key=&lt;key&gt;&amp;
    accounts=&lt;accounts&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_46">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">accounts</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填，支援多組帳號可用<code>,</code>分割</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(accounts + secret)</strong></p>

<h5 id="toc_47">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;account&quot;:&quot;test-api01&quot;,&quot;status&quot;:&quot;normal&quot;}]}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_48"><span id="get-activation">查詢玩家是否啟用遊戲</span></h3>

<p>查詢玩家是否啟用遊戲</p>

<div><pre><code class="language-none">GET /api/poker/user/active?
    key=&lt;key&gt;&amp;
    accounts=&lt;accounts&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_49">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">accounts</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填，支援多組帳號可用<code>,</code>分割</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(accounts + secret)</strong></p>

<h5 id="toc_50">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;account&quot;:&quot;test-api01&quot;,&quot;activation&quot;:1}]}</code></pre></div>

<p>失敗</p>

<div><pre><code class="language-none">{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}</code></pre></div></li>
<li><h3 id="toc_51"><span id="set-activation">設定玩家是否啟用遊戲</span></h3>

<p>設定玩家是否啟用遊戲</p>

<div><pre><code class="language-none">PUT /api/poker/user/active?
    key=&lt;key&gt;&amp;
    accounts=&lt;accounts&gt;&amp;
    activation=&lt;0|1&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_52">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">accounts</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填，支援多組帳號可用<code>,</code>分割</td>
</tr>
<tr>
<td style="text-align: center">activation</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">int</td>
<td style="text-align: center">必填，0或1</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(accounts + activation + secret )</strong></p>

<h5 id="toc_53">回傳結果</h5>

<p>成功</p>

<div><pre><code class="language-none">  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;account&quot;:&quot;test-api01&quot;,&quot;activation&quot;:1}]}</code></pre></div>

<p>失敗
<code>
{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}
</code></p></li>
<li><h3 id="toc_54"><span id="query-logs">LOG查詢</span></h3>

<p>查詢玩家下注LOG</p>

<div><pre><code class="language-none">GET /api/poker/user/logs/detail?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    start_at=&lt;start_at&gt;&amp;
    end_at=&lt;end_at&gt;&amp;
    hash=&lt;hash&gt;</code></pre></div>

<h5 id="toc_55">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">start_at</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">固定格式Y-m-d H:i:s或者0</td>
</tr>
<tr>
<td style="text-align: center">end_at</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">固定格式Y-m-d H:i:s或者0</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + start<em>at + end</em>at + secret)</strong></p>

<h5 id="toc_56">回傳結果</h5>

<p>成功
<code>
  &quot;status&quot;:&quot;success&quot;,&quot;data&quot;:[{&quot;id&quot;:61,&quot;machine_no&quot;:25,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:0,&quot;scatter&quot;:0,&quot;created_at&quot;:&quot;2016-05-03 13:42:38&quot;},{&quot;id&quot;:62,&quot;machine_no&quot;:35,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:0,&quot;scatter&quot;:0,&quot;created_at&quot;:&quot;2016-05-03 13:45:19&quot;},{&quot;id&quot;:63,&quot;machine_no&quot;:36,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:0,&quot;scatter&quot;:0,&quot;created_at&quot;:&quot;2016-05-03 13:48:34&quot;},{&quot;id&quot;:64,&quot;machine_no&quot;:36,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:0,&quot;scatter&quot;:1,&quot;created_at&quot;:&quot;2016-05-03 13:49:22&quot;},{&quot;id&quot;:65,&quot;machine_no&quot;:36,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:40,&quot;scatter&quot;:1,&quot;created_at&quot;:&quot;2016-05-03 13:49:26&quot;},{&quot;id&quot;:66,&quot;machine_no&quot;:46,&quot;bet&quot;:10,&quot;bet_lines&quot;:9,&quot;total_bet&quot;:90,&quot;win_chips&quot;:0,&quot;scatter&quot;:0,&quot;created_at&quot;:&quot;2016-05-03 13:52:27&quot;}]}
</code></p>

<p>失敗
<code>
{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}
</code></p></li>
<li><h3 id="toc_57"><span id="summary-logs">玩家下注簡報查詢</span></h3>

<p>玩家下注簡報查詢
<code>
GET /api/poker/user/log/summary?
    key=&lt;key&gt;&amp;
    account=&lt;account&gt;&amp;
    start_at=&lt;start_at&gt;&amp;
    end_at=&lt;end_at&gt;&amp;
    hash=&lt;hash&gt;
</code></p>

<h5 id="toc_58">參數說明</h5>

<table>
<thead>
<tr>
<th style="text-align: center">參數名稱</th>
<th style="text-align: center">參數說明</th>
<th style="text-align: center">參數型態</th>
<th style="text-align: center">說明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">key</td>
<td style="text-align: center">服務金鑰</td>
<td style="text-align: center">string</td>
<td style="text-align: center">由API端提供</td>
</tr>
<tr>
<td style="text-align: center">account</td>
<td style="text-align: center">玩家帳號</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
<tr>
<td style="text-align: center">start_at</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">固定格式Y-m-d H:i:s或者0</td>
</tr>
<tr>
<td style="text-align: center">end_at</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">固定格式Y-m-d H:i:s或者0</td>
</tr>
<tr>
<td style="text-align: center">hash</td>
<td style="text-align: center">驗證參數</td>
<td style="text-align: center">string</td>
<td style="text-align: center">必填</td>
</tr>
</tbody>
</table>

<p><strong>hash = md5(account + start<em>at + end</em>at + secret)</strong></p>

<h5 id="toc_59">回傳結果</h5>

<p>成功
<code>
  {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;total_bet&quot;:&quot;540&quot;,&quot;win_chips&quot;:&quot;40&quot;}}
</code></p>

<p>失敗
<code>
{&quot;status&quot;:&quot;error&quot;,&quot;error&quot;:{&quot;code&quot;:4,&quot;message&quot;:&quot;user not found&quot;}}
</code></p></li>
</ol>

<h2 id="toc_60">平台方需實作 api</h2>

<p>平台方需要實作 api 讓 mobile app 呼叫 並且透過api <a href="#auth">取得遊戲方玩家帳號密碼</a>，回傳遊戲方帳號讓mobile app 登入。</p>




</body>

</html>
